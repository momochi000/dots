"undefined"!=typeof browser&&(chrome=browser),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1110)}({1110:function(e,t,n){e.exports=n(1111)},1111:function(e,t,n){(function(r,o,i){var s,c,a;!function(e){function t(e){Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[g][e]}})}function r(e){if(o.isModule?o.isModule(e):"[object Module]"===Object.prototype.toString.call(e))return e;var t={default:e,__useDefault:e};if(e&&e.__esModule)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return new s(t)}function s(e){Object.defineProperty(this,g,{value:e}),Object.keys(e).forEach(t,this)}function c(e){return"@node/"===e.substr(0,6)?p(e,r(m(e.substr(6)))):h[e]}function a(e){var t=c(e);if(!t)throw new Error('Module "'+e+'" expected, but not contained in build.');if(t.module)return t.module;var n=t.linkRecord;return function e(t,n){if(!n.depLoads){n.declare&&u(t,n),n.depLoads=[];for(var r=0;r<n.deps.length;r++){var o=c(n.deps[r]);n.depLoads.push(o),o.linkRecord&&e(o,o.linkRecord);var i=n.setters&&n.setters[r];i&&(i(o.module||o.linkRecord.moduleObj),o.importerSetters.push(i))}return t}}(t,n),f(t,n,[]),t.module}function u(t,n){var r=n.moduleObj,o=t.importerSetters,i=!1,s=n.declare.call(e,function(e,t){if(!i){if("object"==typeof e)for(var n in e)"__useDefault"!==n&&(r[n]=e[n]);else r[e]=t;i=!0;for(var s=0;s<o.length;s++)o[s](r);return i=!1,t}},{id:t.key});"function"!=typeof s?(n.setters=s.setters,n.execute=s.execute):(n.setters=[],n.execute=s)}function l(e,t,n){return h[e]={key:e,module:void 0,importerSetters:[],linkRecord:{deps:t,depLoads:void 0,declare:n,setters:void 0,execute:void 0,moduleObj:{}}}}function d(e,t,n,r){var o={};return h[e]={key:e,module:void 0,importerSetters:[],linkRecord:{deps:t,depLoads:void 0,declare:void 0,execute:r,executingRequire:n,moduleObj:{default:o,__useDefault:o},setters:void 0}}}function f(t,n,r){if(r.push(t),t.module)return t.module;if(n.setters){for(var o=0;o<n.deps.length;o++){var i=n.depLoads[o],c=i.linkRecord;c&&-1===r.indexOf(i)&&f(i,c,c.setters?r:[])}n.execute.call(y)}else{var a={id:t.key},u=n.moduleObj;Object.defineProperty(a,"exports",{configurable:!0,set:function(e){u.default=u.__useDefault=e},get:function(){return u.__useDefault}});var l=function(e,t,n){return function(r){for(var o=0;o<e.length;o++)if(e[o]===r){var i,s=t[o],c=s.linkRecord;return"__useDefault"in(i=c?-1===n.indexOf(s)?f(s,c,n):c.moduleObj:s.module)?i.__useDefault:i}}}(n.deps,n.depLoads,r);if(!n.executingRequire)for(o=0;o<n.deps.length;o++)l(n.deps[o]);var d=n.execute.call(e,l,u.__useDefault,a);void 0!==d?u.default=u.__useDefault=d:a.exports!==u.__useDefault&&(u.default=u.__useDefault=a.exports);var p=u.__useDefault;if(p&&p.__esModule)for(var h in p)Object.hasOwnProperty.call(p,h)&&(u[h]=p[h])}a=t.module=new s(n.moduleObj);if(!n.setters)for(o=0;o<t.importerSetters.length;o++)t.importerSetters[o](a);return a}function p(e,t){return h[e]={key:e,module:t,importerSetters:[],linkRecord:void 0}}var h={},g="undefined"!=typeof Symbol?Symbol():"@@baseObject";s.prototype=Object.create(null),"undefined"!=typeof Symbol&&Symbol.toStringTag&&(s.prototype[Symbol.toStringTag]="Module");var m=o._nodeRequire||void 0!==i&&i.platform&&n(1113),y={};return Object.freeze&&Object.freeze(y),function(e,t,n,o){return function(i){i(function(i){var c={_nodeRequire:m,register:l,registerDynamic:d,registry:{get:function(e){return h[e].module},set:p},newModule:function(e){return new s(e)}};p("@empty",new s({}));for(var u=0;u<t.length;u++)p(t[u],r(arguments[u]));o(c);var f=a(e[0]);if(e.length>1)for(u=1;u<e.length;u++)a(e[u]);return n?f.__useDefault:(f instanceof s&&Object.defineProperty(f,"__esModule",{value:!0}),f)})}}}("undefined"!=typeof self?self:void 0!==r?r:this)(["a"],[],!0,function(e){this.require;var t=this.exports,n=this.module;e.registerDynamic("b",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeAclkUrl=function(e){const t=e.split("aclk?");if(2!==t.length)throw new Error(`Expected Google pagead "aclk" URL. Instead got: ${e}`);return t[1].replace(/ved=.*&/,"").replace(/&q=&adurl=$/,"").replace(/&adurl=&q=$/,"")}}),e.registerDynamic("c",["d","e","b"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.parseDom=c;var r=e("d"),o=e("e"),i=e("b");function s(e){window.console.error("[human-web] Exception caught:",e)}function c(e,t,n){const r=t.document;try{let e=null;if((e=r.querySelector("script"))&&e.innerHTML.indexOf("location.replace")>-1){const e=r.querySelector("title").textContent;chrome.runtime.sendMessage({module:"human-web",action:"jsRedirect",args:[{message:{location:e,url:r.location.href}}]})}}catch(e){s(e)}try{let e="",t=!1;r.querySelector("#s0p1c0")&&(e=r.querySelector("#s0p1c0").href),r.querySelector("#tads .ads-ad")&&null===r.querySelector("#tads .ads-ad").offsetParent&&(t=!0);const o={type:"dom",ad:e,hidden:t};n.action("contentScriptTopAds",{message:o})}catch(e){s(e)}try{const e={},r=t.document;let o=0;const c={query:{element:"#ires",attribute:"data-async-context"},adSections:[".ads-ad",".pla-unit-container",".pla-hovercard-content-ellip",".cu-container tr"],0:{cu:".ad_cclk h3 a[id^='s0p'],.ad_cclk h3 a[id^='n1s0p'],.ad_cclk h3 a[id^='s3p']",fu:".ad_cclk h3 a[id^='vs0p'],.ad_cclk h3 a[id^='vn1s0p'],.ad_cclk h3 a[id^='vs3p']"},1:{cu:"a[id^='plaurlg']",fu:"a[id^='vplaurlg']"},2:{cu:"a[id^='plaurlh']",fu:"a[id^='vplaurlh']"},3:{cu:"a[id^='plaurlt']",fu:"a[id^='vplaurlt']"}},a=r.querySelector(c.query.element);let u="";if(a){u=a.getAttribute(c.query.attribute).replace("query:","");try{u=decodeURIComponent(u)}catch(e){}}c.adSections.forEach((t,n)=>{Array.prototype.slice.call(r.querySelectorAll(t)).forEach(t=>{const r=c[n].cu,s=c[n].fu,a=t.querySelector(r),l=t.querySelector(s);if(a&&l){const t=(0,i.normalizeAclkUrl)(a.href);e[t]={ts:Date.now(),query:u,furl:[l.getAttribute("data-preconnect-urls"),l.href]},o+=1}})}),o>0&&n.action("adClick",{ads:e})}catch(e){s(e)}}(0,r.registerContentScript)("human-web","http*",(e,t,n)=>{e.location.href;const r=n.app.modules["human-web"];function i(e){return t=>{r.action(e,{target:{baseURI:t.target.baseURI}})}}e.top===e&&e.addEventListener("DOMContentLoaded",()=>{c(0,e,r)});const s=(0,o.throttle)(e,i("hw:keypress"),250),a=(0,o.throttle)(e,i("hw:mousemove"),250),u=(0,o.throttle)(e,i("hw:scroll"),250),l=(0,o.throttle)(e,i("hw:copy"),250);e.addEventListener("keypress",s),e.addEventListener("mousemove",a),e.addEventListener("scroll",u),e.addEventListener("copy",l),e.addEventListener("unload",function(t){if(!t||t.target===e.document){try{String(e)}catch(e){return}e.removeEventListener("keypress",s),e.removeEventListener("mousemove",a),e.removeEventListener("scroll",u),e.removeEventListener("copy",l)}})})}),e.registerDynamic("f",["d"],!0,function(e,t,n){"use strict";this||self;function r(){document.__defineSetter__("cookie",()=>{}),document.__defineGetter__("cookie",()=>"")}function o(e){if(!e)return"";const t=e.split(".");return t.slice(Math.max(0,t.length-2),t.length).join(".")}(0,e("d").registerContentScript)("antitracking","http*",(e,t,n)=>{const i=n.app.modules.antitracking;if(i.isEnabled&&i.state.cookieBlockingEnabled&&i.state.compatibilityList&&(!n.app.modules.ghostery||!n.app.modules.ghostery.state.paused&&-1===n.app.modules.ghostery.state.whitelisted.indexOf(e.self.location.hostname))&&e.self!==e.top){try{const t=o(new URL(document.referrer).hostname),n=o(e.self.location.hostname);if(n===t||function(e){const t=e.document;return t instanceof e.HTMLDocument==0&&(t instanceof e.XMLDocument==0||t.createElement("div")instanceof e.HTMLDivElement==0)}(e)||i.state.compatibilityList[n]&&-1!==i.state.compatibilityList[n].indexOf(t))return}catch(e){}!function(e){const t=`(${r.toString()})();`,n=e.documentElement,o=e.createElement("script");o.text=t,o.async=!1,n.insertBefore(o,n.firstChild),n.removeChild(o)}(e.document)}})}),e.registerDynamic("10",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){let t=e.input,n=e.button,r=e.onClick;this._clickCb=(e=>{if(!e||"click"!==e.type)return;const t=this.input?this.input.value:"";this.onClick&&this.onClick(t)}),this.input=t,this.button=n,this.onClick=r,this.button&&this.button.addEventListener("click",this._clickCb)}unload(){this.button&&this.button.removeEventListener("click",this._clickCb),this.button=null,this.input=null,this.onClick=null,this._clickCb=null}fillCode(e){this.input&&0===this.input.value.length&&e&&(this.input.value=e)}}}),e.registerDynamic("11",["10","12"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e("10")),o=e("12");t.default=class{constructor(e){let t=e.window,n=e.onClick,r=e.offerInfo,o=e.onFindCouponApplication;this.offerInfo=r,this.couponValue="",this.onClick=n,this.onFindCouponApplication=o,this.coupon=null,this._onMutations=this._onMutations.bind(this),this._onClick=this._onClick.bind(this),this.mutationObserver=new t.MutationObserver(this._onMutations),this.mutationObserver.observe(t.document,{childList:!0,subtree:!0})}_onClick(e){this.couponValue=e,this.onClick(e)}unload(){this.mutationObserver&&this.mutationObserver.disconnect(),this.coupon&&this.coupon.unload(),this.coupon=null,this.mutationObserver=null,this.offerInfo=null,this.onClick=null,this.onFindCouponApplication=null,this._onMutations=null}_onMutations(e){if(this.offerInfo&&this.offerInfo.autoFillField){const t=new Set(e.map(e=>e.target).filter(e=>e&&e.tagName&&"form"===e.tagName.toLowerCase()));this.processForms([...t])}[...e].forEach(e=>[...e.addedNodes].forEach(e=>this.seekForCouponApplication(e,!0)))}seekForCouponApplication(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.offerInfo&&this.offerInfo.code;if(!n)return;if(t&&n!==this.couponValue)return;const r=(0,o.findCouponApplication)(e,n,{strategy:t?"full":"code"});this.onFindCouponApplication(r)}processForms(e){var t=(0,o.getCouponsForm)(e);const n=t.input,i=t.button;if(t.ok&&this.offerInfo&&this.offerInfo.autoFillField){const e=new r.default({input:n,button:i,onClick:this._onClick});this.coupon&&this.coupon.unload(),this.coupon=e}}}}),e.registerDynamic("12",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const o=["voucher","discount","coupon","rabatt","gutschein","promo"],i=["buy","kaufen","bestellen","order"],s=["code","gutschein","rabatt","rabattcode","coupon","discount"];function c(e){const t=function(e){const t=(e,t)=>e&&e.toLowerCase().includes(t);return[...e.querySelectorAll("input")].filter(e=>"hidden"!==e.type&&"password"!==e.type&&o.some(n=>t(e.name,n)||t(e.id,n)))}(e);if(1!==t.length)return{ok:!1,input:null,button:null};const n=function(e){const t=[...e.querySelectorAll("button")]||[],n=([...e.querySelectorAll("input")]||[]).filter(e=>e&&e.type&&"submit"===e.type.toLowerCase());return t.concat(n)}(e);return 1!==n.length?{ok:!1,input:null,button:null}:{ok:!0,input:t[0],button:n[0]}}function a(e){const t=e=>t=>e.some(e=>-1!==t.toLowerCase().indexOf(e));return e.some(t(["error"]))?[!0,"error"]:e.some(t(["success","voucher"]))?[!0,"success"]:[!1,"notfound"]}function u(e,t){const n={};return function e(t,n,o){if(n.done)return;var i=function(e,t){if(e.nodeType!==e.TEXT_NODE)return[!1,null];const n=1===t.length?e.textContent:e.textContent.toLowerCase();return t.some(e=>-1!==n.indexOf(e))?[!0,e]:[!1,null]}(t,o),s=r(i,2);const c=s[0],a=s[1];if(c)return n.done=!0,void(n.node=a);t.hasChildNodes()&&"IFRAME"!==t.tagName&&t.childNodes.forEach(t=>e(t,n,o))}(e,n,t),n.done?function(e){let t=0,n=e;for(;n&&t<5;){var o=a([...n.classList||[]]),i=r(o,2);const e=i[0],s=i[1];if(e)return s;n=n.parentNode,t+=1}return"notfound"}(n.node):""}function l(e){let t=e.value||e.textContent;if(0===t.length&&e.parentElement&&(t=e.parentElement.value||e.parentElement.textContent),!t)return!1;if((t=t.trim().toLowerCase()).length>50)return!1;let n=t.split(/\s+/);return(n=n.filter(e=>i.indexOf(e)>-1)).length>0}t.getCouponsForm=function(e){return e.reduce((e,t)=>t?e.ok?e:c(t):e,{ok:!1,input:null,button:null})},t.findCouponApplication=function(e,t,n){var r=n.strategy;let o=void 0===r?"full":r;const i=u(e,[t]);return"code"===o?i:i||u(e,s)},t.getPurchaseButtons=(e=>{const t=e.document,n=[],r=["button",'input[type="button"]','input[type="submit"]','a[href*="checkout"]'].join(", ");return t.querySelectorAll(r).forEach(e=>n.push(e)),n.filter(e=>!e.hidden).filter(e=>e.offsetHeight>20).filter(l)})}),e.registerDynamic("13",["d","11","12"],!0,function(e,t,n){"use strict";this||self;var r=e("d"),o=function(e){return e&&e.__esModule?e:{default:e}}(e("11")),i=e("12");(0,r.registerContentScript)("offers-v2","http*",function(e,t,n){if(e.parent!==e)return;const r=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n.app.modules["offers-v2"].action(e,...r)},s=e.location.href;let c=null;const a=t=>{(e=>e&&e.response&&"offers-v2"===e.response.module&&e.response.url===s)(t)&&(t.response.activate?(t=>{c||(c=new o.default({offerInfo:t,window:e,onClick:e=>{r("couponFormUsed",{offerInfo:t,couponValue:e,url:s})},onFindCouponApplication:e=>{const n={success:"coupon_autofill_field_success_use",error:"coupon_autofill_field_error_use",notfound:"coupon_autofill_field_application_not_found"}[e];n&&r("couponFormUsed",{offerInfo:t,couponValue:n,url:s})}})),c.processForms([...e.document.querySelectorAll("form")]),c.seekForCouponApplication(e.document.body)})(t.response.offerInfo):c&&(c.unload(),c=null))},u=()=>{r("onContentSignal",{action:"purchase",state:"attempted"})},l=()=>{r("activateCouponDetectionOnUrl",s);const t=(0,i.getPurchaseButtons)(e);t.length>0&&t.forEach(e=>{e.addEventListener("click",u)})},d=()=>{c&&(c.unload(),c=null),t.runtime.onMessage.removeListener(a),e.removeEventListener("unload",d),e.removeEventListener("load",l)};e.addEventListener("load",l),e.addEventListener("unload",d),t.runtime.onMessage.addListener(a)})}),function(r,o){"object"==typeof t&&void 0!==n?o(t):e.registerDynamic("14",[],!1,function(e,t,n){return o.call(t,t)})}(0,function(e){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0
      THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.
      See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function t(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function n(e,t){var n="\n    try {\n      "+e+"\n    } catch (ex) { }\n\n    (function() {\n      var currentScript = document.currentScript;\n      var parent = currentScript && currentScript.parentNode;\n\n      if (parent) {\n        parent.removeChild(currentScript);\n      }\n    })();\n  ",r=t.createElement("script");r.type="text/javascript",r.id="cliqz-adblocker-script",r.appendChild(t.createTextNode(n)),(t.head||t.documentElement).appendChild(r)}function r(e,t){var n=new RegExp(e);t.addEventListener("beforescriptexecute",function(e){var t=e.target;t.textContent&&n.test(t.textContent)&&(e.preventDefault(),e.stopPropagation())})}var o=function(){function e(e,t,n){void 0===n&&(n=!0),this.window=e,this.backgroundAction=t,this.mutationObserver=null,this.injectedRules=new Set,this.injectedScripts=new Set,this.blockedScripts=new Set,this.observedNodes=new Set,this.backgroundAction("getCosmeticsForDomain"),n&&(this.onMutation([{target:this.window.document.body}]),this.startObserving())}return e.prototype.unload=function(){if(this.mutationObserver)try{this.mutationObserver.disconnect()}catch(e){}},e.prototype.handleResponseFromBackground=function(e){var t=e.active,o=e.scripts,i=e.blockedScripts,s=e.styles;if(t){for(var c=0;c<o.length;c+=1){var a=o[c];this.injectedScripts.has(a)||(n(a,this.window.document),this.injectedScripts.add(a))}for(c=0;c<i.length;c+=1){a=i[c];this.blockedScripts.has(a)||(r(a,this.window.document),this.blockedScripts.add(a))}this.handleRules(s)}else this.unload()},e.prototype.handleRules=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];if(!this.injectedRules.has(r)){try{if(!this.window.document.querySelector(r))continue}catch(e){continue}this.injectedRules.add(r),t.push(" :root "+r)}}t.length>0&&function(e,t){var n=t.createElement("style");n.type="text/css",n.id="cliqz-adblokcer-css-rules",(t.head||t.documentElement).appendChild(n),n.appendChild(t.createTextNode(e))}(t.join(" ,")+" {display:none !important;}",this.window.document)},e.prototype.onMutation=function(e){var n=this,r=new Set(e.map(function(e){return e.target}).filter(function(e){return e}));if(r.size>100&&(r=new Set([this.window.document.body])),0!==r.size){var o=new Set;r.forEach(function(e){for(var t=e.querySelectorAll("*"),r=0;r<t.length;r+=1){var i=t[r];if(!i.hidden){if(i.id){var s="#"+i.id;n.observedNodes.has(s)||(o.add(s),n.observedNodes.add(s))}if(i.tagName){s=i.tagName;n.observedNodes.has(s)||(o.add(s),n.observedNodes.add(s))}i.className&&i.className.split&&i.className.split(" ").forEach(function(e){var t="."+e;n.observedNodes.has(t)||(o.add(t),n.observedNodes.add(t))})}}}),o.size>0&&this.backgroundAction("getCosmeticsForNodes",[function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(t(arguments[n]));return e}(o)])}},e.prototype.startObserving=function(){var e=this;void 0!==this.window.MutationObserver&&(this.mutationObserver=new this.window.MutationObserver(function(t){return e.onMutation(t)}),this.mutationObserver.observe(this.window.document,{childList:!0,subtree:!0}))},e}();e.CosmeticsInjection=o,e.overrideUserAgent=function(){n("("+function(){Object.defineProperty(navigator,"userAgent",{get:function(){return"Mozilla/5.0 Gecko Firefox"}})}.toString()+")()",window.document)},Object.defineProperty(e,"__esModule",{value:!0})}),e.registerDynamic("15",["14"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("14"));t.default=r}),e.registerDynamic("16",["d","15"],!0,function(e,t,n){"use strict";this||self;var r=e("d"),o=function(e){return e&&e.__esModule?e:{default:e}}(e("15"));(0,r.registerContentScript)("adblocker","http*",(e,t,n)=>{if(!e.location.href)return;let r;const i=e.navigator.userAgent.toLowerCase().indexOf("mobile")>-1;r=new o.default.CosmeticsInjection(e,function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];n.app.modules.adblocker.action(e,...o).then(e=>r.handleResponseFromBackground(e))},!i);const s=e=>{if("adblocker"===e.module){const t=e.args[0];"update"===e.action&&(r.handleResponseFromBackground(t),(t.moduleDisabled||!1===t.active)&&r.unload())}},c=()=>{r.unload(),e.removeEventListener("unload",c),t.runtime.onMessage.removeListener(s)};e.addEventListener("unload",c),t.runtime.onMessage.addListener(s)})}),e.registerDynamic("17",["d"],!0,function(e,t,n){"use strict";this||self;(0,e("d").registerContentScript)("anti-phishing","http*",(e,t)=>{t.runtime.onMessage.addListener(t=>{if("anti-phishing"!==t.module||"block"!==t.action)return;var n=t.args[0];const r=n.block,o=n.type;r&&"phishingURL"===o&&(e.location="chrome://cliqz/content/anti-phishing/phishing-warning.html?u="+encodeURIComponent(e.location))})})}),e.registerDynamic("18",["d"],!0,function(e,t,n){"use strict";this||self;var r=e("d");const o=250,i="myoffrz-helper";(0,r.registerContentScript)(i,"http*",(e,t,n)=>{if(e.top===e){const r=n.app.modules[i],s=new class{constructor(e,t){this.window=e,this.document=e.document,this.backgroundModule=t,this.categoriesRules=[],this.refetchUrl=null}onBackgroundMsg(e){if(e.module===i&&"rulesFromBackground"===e.action){const t=e.args[0];this.handleRules(t)}}sendToBackground(e){let t=e.categories,n=e.titles,r=e.links,o=e.productId,i=e.prefix,s=e.price;(t.length>0||n.length>0||r.length>0||this.refetchUrl)&&this.backgroundModule.action("handleCategories",{categories:t,titles:n,linkIds:r,productId:o,fromContent:!0,prefix:i,fetchUrl:this.refetchUrl,rules:this.categoriesRules,price:s})}extractCategroyFromElement(e,t,n){if(!e)return[];const r=new RegExp(`[${String.fromCharCode(8250)}|>|\n]`),i=String.fromCharCode(8249);if(!n&&(e.hidden||e.offsetTop>o))return[];const s=e.textContent.trim();if(s.indexOf(i)>-1)return t&&!this.refetchUrl&&(this.refetchUrl=document.head.querySelector("link[rel='canonical']").getAttribute("href")),[];let c=s.split(r).map(e=>e.trim()).filter(e=>""!==e).join(" > ");return 0===c.indexOf("in")&&(c=c.slice(3)),[c]}getCategories(e,t){let n=[];return this.document.querySelectorAll(e).forEach(e=>{n=n.concat(this.extractCategroyFromElement(e,t,!1))}),n=n.reduce((e,t)=>e.concat(t),[]),[...new Set(n)]}getTitles(e){const t=[];return this.document.querySelectorAll(e).forEach(e=>{t.push(e.textContent.trim())}),t}getLinks(e,t){const n=[];return this.document.querySelectorAll(e).forEach(e=>{const r=e.href;if(t){const e=new RegExp(t).exec(r);if(e)return void n.push(e[1])}n.push(r)}),n}getPrice(e){const t=this.document.querySelector(e).textContent.trim().match(/[\d,.]+/g);if(t&&t.length>0){const e=t[0].split(/[,.]/);return e.length>1&&2===e[e.length-1].length&&(e[e.length-1]=`.${e[e.length-1]}`),e.join("")}return null}handleRules(e){let t=e.rules,n=e.productId,r=e.prefix;const o=()=>{let e=[],o=[],i=[],s=null;this.categoriesRules=t.category,t.category&&t.category.length>0&&(e=(e=t.category.map(e=>this.getCategories(e,t.refetch))).reduce((e,t)=>e.concat(t),[]),e=[...new Set(e)]),t.title&&t.title.length>0&&t.title.forEach(e=>{o=o.concat(this.getTitles(e))}),t.link&&t.link.length>0&&t.link.forEach(e=>{i=i.concat(this.getLinks(e,t.linkIdRegex))}),t.price&&t.price.length>0&&t.price.some(e=>!!(s=this.getPrice(e))),this.sendToBackground({categories:e,titles:o,links:i,productId:n,prefix:r,price:s})};t&&(t.waitForLoad&&"complete"!==this.document.readyState?this.window.addEventListener("load",()=>{o()}):o())}}(e,r),c=s.onBackgroundMsg.bind(s);t.runtime.onMessage.addListener(c);const a=()=>{t.runtime.onMessage.removeListener(c),e.removeEventListener("unload",a)};e.addEventListener("unload",a)}})}),e.registerDynamic("19",["1a"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.preShowActions=t.onApplyActions=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("1a");t.onApplyActions=(e=>{return{"insert-coupon-form":function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,o.getCouponsForm)([...e.document.querySelectorAll("form")]),r=n.ok,i=n.input,s=n.button;(r||t.code)&&(i.value=t.code,s.click&&s.click())}}[e]||(()=>{})}),t.preShowActions=(e=>{return{"try-to-find-coupon":(e,t)=>{const n=(0,o.getCouponsForm)([...e.document.querySelectorAll("form")]),i=n.ok,s=n.input,c=i&&Boolean(s.value);return{ok:i,config:r({},t,{shouldHideButtons:!i,shouldPreventRender:c})}}}[e]||((e,t)=>({ok:!0,config:t}))})}),e.registerDynamic("1b",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});t.pop=((e,t)=>e.app.modules["popup-notification"].action("pop",t)),t.log=((e,t)=>e.app.modules["popup-notification"].action("log",t))}),e.registerDynamic("1c",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.divertImages=function(e,t,n){const o=[];if(!e)return o;const i=e.contentDocument||e.contentWindow&&e.contentWindow.document||e;return Object.entries(t).forEach(e=>{var t=r(e,2);let s=t[0],c=t[1];const a=i.getElementsByClassName(s);var u=!0,l=!1,d=void 0;try{for(var f,p=a[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){const e=f.value,t=n(c).then(t=>{e.style.backgroundImage=t?`url("${t}")`:""}).catch(()=>{});o.push(t)}}catch(e){l=!0,d=e}finally{try{!u&&p.return&&p.return()}finally{if(l)throw d}}}),o},t.getImageDiverterCallerFunc=function(e){return t=>e.app.modules.core.action("readContentAsDataUrl",t)}}),e.registerDynamic("1d",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default={platform:"webextension",brocfile:"Brocfile.node.js",baseURL:"/cliqz/",pack:"npm pack",publish:"aws s3 cp browser-core-$PACKAGE_VERSION.tgz s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz --acl public-read && aws s3 cp s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/$VERSION.${GIT_COMMIT:0:7}.tgz s3://cdncliqz/update/edge/ghostery/$BRANCH_NAME/latest.tgz --acl public-read",sourceMaps:!0,format:"common",settings:{ANOLYSIS_BACKEND_URL:"https://anolysis.privacy.ghostery.net",ANOLYSIS_STAGING_BACKEND_URL:"https://anolysis-staging.privacy.ghostery.net",BACKGROUND_IMAGE_URL:"https://cdn.ghostery.net/brands-database/database/",BW_URL:"https://antiphishing.ghostery.net/api/bwlist?md5=",CAMPAIGN_SERVER:"https://fec.ghostery.net/message/",CDN_BASEURL:"https://cdn.ghostery.net",CDN_CONTENTSCRIPT_BASEURL:"https://cdn3.ghostery.net",CLIQZ_SAVE_URL:"https://ghostery.net/q=",CONFIG_PROVIDER:"https://api.ghostery.net/api/v1/config",ENDPOINT_ANONPATTERNSURL:"https://cdn2.ghostery.com/human-web-chromium/patterns-anon.gz",ENDPOINT_BLIND_SIGNER:"https://ghostery-sign.ghostery.com/sign",ENDPOINT_CONFIGURL:"https://safe-browsing.ghostery.net/config",ENDPOINT_HPNV2_COLLECTOR:"https://collector-hpn.ghostery.net",ENDPOINT_HPNV2_CONFIG:"https://collector-hpn.ghostery.net/config",ENDPOINT_HPNV2_JOIN:"https://collector-hpn.ghostery.net/join",ENDPOINT_KEYS_PROVIDER:"https://ghostery-collector.ghostery.com/signerKey",ENDPOINT_LOOKUP_TABLE_PROVIDER:"https://ghostery-collector.ghostery.com/v2/lookuptable",ENDPOINT_PATTERNSURL:"https://cdn2.ghostery.com/human-web-chromium/patterns.gz",ENDPOINT_SAFE_QUORUM_ENDPOINT:"https://safe-browsing-quorum.ghostery.com/",ENDPOINT_SAFE_QUORUM_PROVIDER:"https://safe-browsing-quorum.ghostery.com/config",ENDPOINT_SOURCE_MAP_PROVIDER:"https://ghostery-collector.ghostery.com/sourcemapjson",ENDPOINT_USER_REG:"https://ghostery-sign.ghostery.com/register",FEEDBACK:"https://ghostery.net/feedback/",HB_NEWS:"hb-news.ghostery.net",HOMPAGE_URL:"https://ghostery.net/",INVENTORY_URL:"https://cdn.ghostery.net/browser-f/fun-demo/inventoryv2.txt.gz",JOBS_URL:"https://ghostery.net/jobs/",OFFERS_BE_BASE_URL:"https://offers-api.ghostery.net",PRIVACY_SCORE_URL:"https://anti-tracking.ghostery.net/api/v1/score?",RESULTS_PROVIDER:"https://api.ghostery.net/api/v2/results?nrh=1&q=",RESULTS_PROVIDER_LOG:"https://api.ghostery.net/api/v1/logging?q=",RESULTS_PROVIDER_PING:"https://api.ghostery.net/ping",RICH_HEADER:"https://api.ghostery.net/api/v2/rich-header?path=/v2/map",RICH_HEADER_PROXY_URL:"hb-news.ghostery.net",ROTATED_TOP_NEWS:"rotated-top-news.ghostery.net",SAFE_BROWSING:"https://safe-browsing.ghostery.net",STATISTICS:"https://stats.ghostery.net",SUGGESTIONS_URL:"https://ghostery.net/search?q=",TELEMETRY_ENDPOINT:"https://safebrowsing-experiment.ghostery.net",TRACKER_PROXY_PROXY_PEERS_DEFAULT:"https://p2p-signaling-proxypeer.ghostery.net/peers",TRACKER_PROXY_PROXY_PEERS_EXIT_DEFAULT:"https://p2p-signaling-proxypeer.ghostery.net/exitNodes",TRACKER_PROXY_PROXY_SIGNALING_DEFAULT:"wss://p2p-signaling-proxypeer.ghostery.net",UNINSTALL:"https://ghostery.net/home/offboarding",SUPPORT_URL:"https://ghostery.zendesk.com/hc/en-us",TEAM_URL:"https://cliqz.com/team/",TRIQZ_URL:"https://cliqz.com/tips",PRIVACY_POLICY_URL:"https://www.ghostery.com/about-ghostery/privacy-statements/",LOCATION_SHARING_URL:"https://cliqz.com/support/local-results",MYOFFRZ_URL:"https://cliqz.com/myoffrz",REPORT_SITE_URL:"https://cliqz.com/report-url",channel:"CH80",MSGCHANNEL:"web-extension",KEY_DS_PUBKEY:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwXo4hXvboKHCggNJ0UNFvZQfDWi0jNcF1kBHthxilMu6LB/hFrSMQ+/FgTqVE36cCezWE0K1UcwmYGVsuqxcvql82RfCmYUVBroJ3UFG8qnetYfU5FOk43C555p5l5HzlF8QilcCUBCO4SCj9lEZ3/8FJboCupTqxEUq7nwUgaNZOiGKMdDUBZJO1tW4LSH4lj9IAZccEJ5HKVmJKopQ3hmzWgDqowxni4NQz+0DnsSfCGAupKaJDxjfajJosX5i674rgdHbZGtgHB3M9jhc6HFNPcmtUgLwgtUtRwMhSnya6q/O06euouNi1h0m5eRrWeMRlJSdUnelLSU8QNy7LQIDAQAB",KEY_SECURE_LOGGER_PUBKEY:"MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAh5HhcRAn6+6woXQXl/NtZ+fOooNglZct/HSpYuqkcmrPauHW7EuOSq5bvpBZRTDROjR/kUPomqVZIzqhdCFPA8BwXSCz7hAel2Q157vtBvh9sngMMLXb5Fgzef5N4EuKO8pL5KrS+I9tfZac41vFJSdpgAirZYhh+tdcQQ1z0Qv/Rw0zOXjfvddCz3gEv2gB9KsLMVnTS1J4YOOgfza2adg9Ebz1z99DiF4vtCwn0IUwH/3ToTBwJLbMnC3Ol43yBNk8rgK2mkgCi614vOSD3hnVmio+iW6+AUklM8VPl6l7hEK9cljJY+9UsMVmTrvaFbMPwS6AdZCXKTmNdaMJcy3zSOXu5zvzihoQLwAu9LM3l2eVk0Mw0K7JXOP20fc8BtzWCOLYVP32r4R0BNuhTtvGqjHNZHPJN5OwaxkLpn2dujL9uDWGjRiOItKMVq/nOqmNGghrbf8IOaKT7VQhqOU4cXRkB/uF1UjYETBavwUZAxx9Wd/cMcAGmKiDxighxxQ29jDufl+2WG065tmJz+zCxmgrPh6Zb3KFUxPTe6yksAhWJhmGShA9v20t84M5c6NpZXoUsFcVja6XxzHeSB8dWq9Uu5QcZ83Gz/ronwdEjT2OGTtBgOFeTDqLYUgphC1gcUEHOCnTNXRMQOXqGwBfZHp+Mq61QcMq2rNS7xECAwEAAQ==",HPN_CHANNEL:"ghostery",OFFERS_CHANNEL:"ghostery",ATTRACK_TELEMETRY_PROVIDER:"hpn",HW_CHANNEL:"ghostery",ALLOWED_COUNTRY_CODES:["de","at","ch","es","us","fr","nl","gb","it","be","se","dk","fi","cz","gr","hu","ro","no","ca","au","ru","ua","in","pl","jp","br","mx","cn","ar"],antitrackingPlaceholder:"ghostery",antitrackingHeader:"Ghostery-AntiTracking",frameScriptWhitelist:[]},default_prefs:{"modules.human-web.enabled":!0,"modules.offers-v2.enabled":!0,"modules.message-center.enabled":!1,"modules.antitracking.enabled":!0,"modules.anti-phishing.enabled":!1,"modules.adblocker.enabled":!0,offersLogsEnabled:!0,showConsoleLogs:!1,"cliqz-adb":!0,"cliqz-adb-abtest":!0,attrackBloomFilter:!0,humanWeb:!0,"cliqz-anti-phishing":!0,"cliqz-anti-phishing-enabled":!0,attrackRemoveQueryStringTracking:!1,attrackTelemetryMode:1,attrackDefaultAction:"placeholder",sendAntiTrackingHeader:!1,telemetry:!1,attrackCookieTrustReferers:!0},bundles:["core/content-script.bundle.js","hpn/worker.bundle.js"],modules:["core","message-center","human-web","hpn","antitracking","webrequest-pipeline","static","offers-v2","adblocker","anolysis","anti-phishing","myoffrz-helper","popup-notification"],system:{map:{BigInt:"node_modules/BigInt/src/BigInt.js"},meta:{BigInt:{format:"cjs"}}},subprojects:[],environment:"production",debugPages:!1,EXTENSION_VERSION:"7.31.2",VERSION:"7.31.2",instrumentFunctions:""}}),e.registerDynamic("1e",["1d"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.popupStyles=t.PARANJA_STYLES=t.styleImages=t.styles=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(e("1d"));t.styles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ghostery;let n=void 0!==t&&t,o=e.logo_class;var i=e.styles;let s=(i=void 0===i?{}:i).headline_color;const c=n?"111px":"20px";var a=r(n?["#930194","#920094","#850587"]:["#00AEF0","#0078CA","#0078CA"],3);const u=a[0],l=a[1],d=a[2];return`\n    .content {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      background-color: #fff;\n      z-index: 2147483646;\n      text-align: center;\n      border-radius: 5px;\n\n      display: flex;\n      flex-direction: column;\n      font-family: "-mac-system", "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    }\n\n    .header {\n      height: 45px;\n      border-bottom: 1px solid #DEDEDE;\n      background-color: #F2F2F2;\n      border-top-left-radius: 5px;\n      border-top-right-radius: 5px;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n\n    .header > .offer-logo {\n      height: 100%;\n      font-size: 16.5px;\n      font-weight: 500;\n      color: #363636;\n      text-align: left;\n      padding-left: ${c};\n      margin-left: 16px;\n      background-repeat: no-repeat;\n      /* background-image */\n      background-position: center;\n    }\n\n    .header > .btn-close {\n      width: 14px;\n      height: 14px;\n      opacity: 0.6;\n      cursor: pointer;\n      padding-right: 22px;\n      margin-top: -2px;\n      background-repeat: no-repeat;\n      /* background-image */\n    }\n\n    .header > .billet {\n      display: block;\n      min-height: 46px;\n      width: 99%;\n    }\n\n    .sub-header > .billet {\n      display: block;\n      width: 100%;\n    }\n\n    .sub-header > .billet:last-child {\n      display: block;\n      width: 1px;\n      padding-right: 32px;\n    }\n\n    .header > .btn-close:hover {\n      opacity: 1;\n    }\n\n    .sub-header {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      padding-top: 12px;\n    }\n\n    .sub-header > .labels {\n      display: flex;\n      flex-direction: column;\n      white-space: nowrap;\n      margin-left: 35px;\n    }\n\n    .sub-header > .labels > .exclusive{\n      /* background-image */\n    }\n\n    .sub-header > .labels > .best_offer{\n      /* background-image */\n    }\n\n    .sub-header > .labels > .offer_of_the_week{\n      /* background-image */\n    }\n\n    .sub-header > .labels > .label {\n      padding-left: 14px;\n      color: #B2B2B2;\n      font-family: 'Arial Narrow', 'Impact';\n      letter-spacing: 1px;\n      text-transform: uppercase;\n      font-size: 8.5px;\n      font-weight: 400;\n      background-size: 12px 10px;\n      background-repeat: no-repeat;\n      background-position: left center;\n      margin-bottom: 2px;\n    }\n\n    .sub-header > .wrapper {\n      display: inline-block;\n      min-width: ${{square:"30px",short:"55px",normal:"70px",long:"105px"}[o]||"70px"};\n      height: 32px;\n    }\n\n    .sub-header > .wrapper > .logo {\n      display: inline-block;\n      background-color: transparent;\n      padding: 0;\n      min-width: 100%;\n      min-height: 100%;\n      background-repeat: no-repeat;\n      background-size: contain;\n      /* background-image */\n    }\n\n\n    .benefit {\n      font-size: 32px;\n      font-weight: 500;\n      color: #494949;\n      padding: 7px 0 9px 0;\n      overflow: hidden;\n    }\n\n    .headline {\n      padding: 0 30px;\n      font-size: 19px;\n      font-weight: 350;\n      padding-bottom: 21px;\n      color: ${s||"black"};\n    }\n\n    .code-wrapper {\n      background-color: #F2F2F2;\n      border: 1px solid #DADADA;\n      height: 32px;\n      margin: 0 18px;\n      border-radius: 4px;\n      display: flex;\n      align-items: center;\n    }\n\n    .code-wrapper > .promo-code {\n      border: none;\n      color: transparent;\n      text-shadow: 0 0 0 #000;\n      font-size: 13px;\n      background-color: transparent;\n      font-weight: 600;\n\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      padding-left: 16px;\n      padding-right: 37%;\n    }\n\n    .code-wrapper > .copy-code {\n      cursor: pointer;\n      font-size: 10px;\n      font-weight: 500;\n      text-transform: uppercase;\n      color: #687E90;\n      white-space: nowrap;\n      margin-right: 14px;\n    }\n\n    .code-wrapper > .copy-code:hover {\n      color: ${u};\n    }\n\n    .footer {\n      background-color: #fff;\n      border-radius: 0 0 5px 5px;\n    }\n\n    .footer > button {\n      margin-top: 31px;\n      margin-left: 5px;\n      margin-right: 5px;\n      padding: 12px 8px;\n      letter-spacing: 0.5px;\n      font-size: 14px;\n      font-weight: 500;\n      border: 1px solid #ccc;\n      border-radius: 4px;\n      min-width: 150px;\n      cursor: pointer;\n      text-transform: uppercase;\n      background-color: #fff;\n    }\n\n    .footer > button.btn-cancel:hover {\n      color: ${l};\n      border-color: ${l};\n    }\n\n    .footer > button.btn-apply {\n      background-color: ${u};\n      border-color: ${u};\n      color: #fff;\n    }\n\n    .footer > button.btn-apply:hover {\n      background-color: ${d};\n      border-color: ${d};\n    }\n\n    .none {\n      display: none;\n    }\n\n    .middle {\n      background-color: #fff;\n    }\n\n    .footer-billet {\n      padding-bottom: 20px;\n    }`},t.styleImages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ghostery;let n=void 0!==t&&t,r=e.logo_url;const i=n?"ghostery-rewards-beta.svg":"offers-cc-icon.svg",s=o.default.settings.CDN_CONTENTSCRIPT_BASEURL;return{"offer-logo":`${s}/extension/offers/popup_notification/${i}`,"btn-close":`${s}/extension/offers/popup_notification/close-icon.svg`,exclusive:`${s}/extension/offers/popup_notification/exclusive.svg`,best_offer:`${s}/extension/offers/popup_notification/best_offer.svg`,offer_of_the_week:`${s}/extension/offers/popup_notification/offer_of_the_week.svg`,logo:r.replace(o.default.settings.CDN_BASEURL,s)}},t.PARANJA_STYLES={position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0,0,0,0.5)","z-index":2147483645,transition:"all 200ms ease-in",opacity:"0"},t.popupStyles=function(e){var t=e.shouldHideButtons;let n=void 0!==t&&t;var r=e.headline;let o=(void 0===r?"":r).length>32?"360px":"336px";return n&&(o="260px"),{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",margin:"auto","box-shadow":"0px 10px 24px -7px rgba(0, 0, 0, 0.75);",width:"450px",height:o,transition:"all 200ms ease-in",opacity:"0","z-index":2147483647,"line-height":1}}}),e.registerDynamic("1f",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&i.test(e)?e.replace(o,e=>r[e]):e};const r={"&":"&amp","<":"&lt",">":"&gt",'"':"&quot","'":"&#39"},o=/[&<>"']/g,i=RegExp(o.source)}),e.registerDynamic("20",["1f"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.getTemplate=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e("1f"));function o(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(t=>`\n    <div class="label ${t}">${(t=>e.i18n.getMessage(t))(`offers_${t}`)}</div>\n  `).join("")}t.getTemplate=function(e,t){let n=t.ghostery,i=t.logoText,s=t.benefit,c=t.headline,a=t.code,u=t.labels,l=t.shouldHideButtons;return`\n    <div class="content">\n      <div class="header">\n        <div class="offer-logo"></div>\n        <div class="offer-logo-text">${i}</div>\n        <div class="billet"></div>\n        <div class="btn-close"></div>\n      </div>\n      <div class="sub-header">\n        <div class="labels">${o(e,n?[]:u)} </div>\n        <div class="billet"></div>\n        <div class="wrapper">\n          <div class="logo"></div>\n        </div>\n        <div class="billet"></div>\n      </div>\n      <div class="middle">\n        <div class="benefit">${(0,r.default)(s)}</div>\n        <div class="headline">${(0,r.default)(c)}</div>\n      </div>\n      <div class="footer">\n        <div class="code-wrapper">\n          <input\n            class="promo-code"\n            value="${(0,r.default)(a)}"\n            readonly="readonly"\n            type="text">\n          <span class="copy-code">${e.i18n.getMessage("offers_hub_copy_btn")}</span>\n        </div>\n        <button class="btn-cancel ${l?"none":""}">\n          ${e.i18n.getMessage("popup_cancel_button")}\n        </button>\n        <button class="btn-apply ${l?"none":""}">\n          ${e.i18n.getMessage("popup_apply_code_button")}\n        </button>\n        <div class="footer-billet"></div>\n      </div>\n    </div>`}}),e.registerDynamic("21",["20","1a"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){let t=e.chrome,n=e.window,s=e.config,c=e.onCancel,a=e.onApply,u=e.onCopyCode;const l=(0,i.createElement)(n,{tag:"div",className:"container"});l.innerHTML=(0,o.getTemplate)(t,r({},s,{logoText:s.ghostery?"&nbsp;":"MyOffrz"})),["btn-close","btn-cancel"].forEach(e=>{l.getElementsByClassName(e)[0].addEventListener("click",()=>{c("btn-cancel"===e?"cancel":"x")})}),l.getElementsByClassName("btn-apply")[0].addEventListener("click",()=>{a()}),l.getElementsByClassName("content")[0].addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()});const d=t.i18n.getMessage("offers_code_copied");return l.getElementsByClassName("copy-code")[0].addEventListener("click",function(){l.getElementsByClassName("promo-code")[0].select(),(0,i.copySelectedText)(n)&&(this.textContent=d,u())}),l};var o=e("20"),i=e("1a")}),e.registerDynamic("22",["1c","1e","21","1a"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var r=e("1c"),o=e("1e"),i=function(e){return e&&e.__esModule?e:{default:e}}(e("21")),s=e("1a");const c=!1;t.render=function(e){let t=e.chrome,n=e.window,a=e.onApply,u=e.onCancel,l=e.onCopyCode;var d=e.config;let f=void 0===d?{}:d,p=e.readContentAsDataUrl;if(n.document.getElementById("cliqz-offer-modal"))return void n.console.warn("an attempt to render popup twice");const h=(0,s.createElement)(n,{tag:"div"});h.id="cliqz-offer-modal",Object.assign(h.style,o.PARANJA_STYLES);const g=n.document.head,m=g.createShadowRoot||g.attachShadow;let y=null,v=null;m?(v=h.attachShadow({mode:c?"open":"closed"}),y=(0,s.createElement)(n,{tag:"div"})):(y=(0,s.createElement)(n,{tag:"iframe",id:"cliqz-offers-iframe"})).frameBorder=0,Object.assign(y.style,(0,o.popupStyles)(f));const b=(0,i.default)({chrome:t,window:n,config:f,onCancel:e=>{h.remove(),y.remove(),u(e)},onApply:()=>{h.remove(),y.remove(),a()},onCopyCode:l});h.addEventListener("click",()=>{u("outside"),h.remove(),y.remove()});const _=(0,s.createElement)(n,{tag:"style",textContent:(0,o.styles)(f)});n.setTimeout(()=>{h.style.opacity=1,y.style.opacity=1,m?(y.appendChild(b),v.appendChild(_),v.appendChild(y)):(y.contentDocument.body.appendChild(b),y.contentDocument.head.append(_)),(0,r.divertImages)(y,(0,o.styleImages)(f),p)},1500),n.document.body.appendChild(h),n.document.body.appendChild(m?v:y)}}),e.registerDynamic("1a",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});const r=["voucher","discount","coupon","rabatt","gutschein","promo"];function o(e){const t=function(e){const t=(e,t)=>e&&e.toLowerCase().includes(t);return[...e.querySelectorAll("input")].filter(e=>"hidden"!==e.type&&"password"!==e.type&&r.some(n=>t(e.name,n)||t(e.id,n)))}(e);if(1!==t.length)return{ok:!1,input:null,button:null};const n=function(e){const t=[...e.querySelectorAll("button")]||[],n=([...e.querySelectorAll("input")]||[]).filter(e=>e&&e.type&&"submit"===e.type.toLowerCase());return t.concat(n)}(e);return[1,2].includes(n.length)?{ok:!0,input:t[0],button:n[0]}:{ok:!1,input:null,button:null}}t.once=function(e){let t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r)}}},t.createElement=function(e,t){let n=t.tag,r=t.className,o=t.textContent,i=t.id;const s=e.document.createElement(n);return r&&s.classList.add(r),o&&(s.textContent=o),i&&(s.id=i),s},t.copySelectedText=function(e){let t=!1;try{t=e.document.execCommand("copy")}catch(e){t=!1}return t},t.getCouponsForm=function(e){return e.reduce((e,t)=>t?e.ok?e:o(t):e,{ok:!1,input:null,button:null})}}),e.registerDynamic("23",["d","1c","19","1b","22","1a"],!0,function(e,t,n){"use strict";this||self;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=e("d"),i=e("1c"),s=e("19"),c=e("1b"),a=e("22"),u=e("1a");(0,o.registerContentScript)("popup-notification","http*",(e,t,n)=>{const o=(0,u.once)(a.render),l=((e,t,n,o)=>a=>{const u=a.action,l=a.module;var d=a.target;const f=void 0===d?"nobody":d;var p=a.data;const h=void 0===p?{}:p,g=a.url,m=e.location.href;if(g!==m||"popup-notification"!==l||"push"!==u)return;var y=h.config;const v=void 0===y?{}:y;var b=h.onApply;const _=void 0===b?"":b;var w=h.preShow;const E=void 0===w?"":w,O=h.back;var k=(0,s.preShowActions)(E)(e,v);const S=k.ok,x=k.config,C={back:O,url:m};(0,c.log)(n,{target:f,data:r({},C,{type:"pre-show",ok:S})}),x.shouldPreventRender||(o({chrome:t,window:e,onApply:()=>{(0,s.onApplyActions)(_)(e,v),(0,c.pop)(n,{target:f,data:r({},C,{ok:!0})})},onCancel:e=>(0,c.pop)(n,{target:f,data:r({},C,{ok:!1,type:e})}),onCopyCode:()=>(0,c.log)(n,{target:f,data:r({},C,{type:"copy-code",ok:!0})}),config:x,readContentAsDataUrl:(0,i.getImageDiverterCallerFunc)(n)}),(0,c.log)(n,{target:f,data:r({},C,{type:"show",ok:!0})}))})(e,t,n,o);e.top===e&&(e.addEventListener("DOMContentLoaded",()=>{t.runtime.onMessage.addListener(l)}),e.addEventListener("unload",()=>{t.runtime.onMessage.removeListener(l)}))})}),e.registerDynamic("24",["c","f","13","16","17","18","23"],!0,function(e,t,n){"use strict";this||self;e("c"),e("f"),e("13"),e("16"),e("17"),e("18"),e("23")}),e.registerDynamic("25",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");for(var n,r=String(e),o="",i=!!t&&!!t.extended,s=!!t&&!!t.globstar,c=!1,a=t&&"string"==typeof t.flags?t.flags:"",u=0,l=r.length;u<l;u++)switch(n=r[u]){case"\\":case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":o+="\\"+n;break;case"?":if(i){o+=".";break}case"[":case"]":if(i){o+=n;break}case"{":if(i){c=!0,o+="(";break}case"}":if(i){c=!1,o+=")";break}case",":if(c){o+="|";break}o+="\\"+n;break;case"*":for(var d=r[u-1],f=1;"*"===r[u+1];)f++,u++;var p=r[u+1];if(s){var h=f>1&&("/"===d||void 0===d)&&("/"===p||void 0===p);h?(o+="((?:[^/]*(?:/|$))*)",u++):o+="([^/]*)"}else o+=".*";break;default:o+=n}a&&~a.indexOf("g")||(o="^"+o+"$");return new RegExp(o,a)}}),e.registerDynamic("d",["25"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.registerContentScript=function(e,t,n){o[t]=o[t]||[],o[t].push({moduleName:e,contentScript:n})},t.runContentScripts=function(e,t,n){const i=e.location.href;Object.keys(o).filter(e=>{const t=(0,r.default)(e);return t.test(i)}).forEach(r=>{o[r].filter(e=>{let t=e.moduleName;return(n.app.modules[t]||{}).isEnabled}).forEach(r=>{let o=r.contentScript;try{o(e,t,n)}catch(t){e.console.error(`CLIQZ content-script failed: ${t} ${t.stack}`)}})})},t.isTopWindow=function(e){return e.self===e.top};var r=function(e){return e&&e.__esModule?e:{default:e}}(e("25"));const o={}}),e.registerDynamic("e",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(e,t,n){let r,o;return function(){for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];const a=Date.now();r&&a<r+n?(e.clearTimeout(o),o=e.setTimeout(()=>{r=a,t(...s)},n)):(r=a,t(...s))}},t.nextTick=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Promise.resolve().then(()=>e(...n))}}),e.registerDynamic("26",["27"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return o(e,t,r,!1)},t.setTimeoutIntervalInstant=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return o(e,t,r,!0)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("27"));function o(e,t,n,o){let i=!0,s=null;const c=(()=>{var o=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var s=t[o](i),c=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}(function*(){if(i)try{yield e(...n)}catch(e){}i&&(s=r.setTimeout(c,t))});return function(){return o.apply(this,arguments)}})();return s=r.setTimeout(c,o?0:t),{stop:()=>{i=!1,r.clearTimeout(s)}}}}),e.registerDynamic("27",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});t.setTimeout=function(){return("undefined"==typeof setTimeout?window.setTimeout.bind(window):setTimeout)(...arguments)},t.setInterval=function(){return("undefined"==typeof setInterval?window.setInterval.bind(window):setInterval)(...arguments)},t.clearTimeout=function(){return("undefined"==typeof clearTimeout?window.clearTimeout.bind(window):clearTimeout)(...arguments)},t.clearInterval=function(){return("undefined"==typeof clearInterval?window.clearInterval.bind(window):clearInterval)(...arguments)}}),e.registerDynamic("28",["26","27"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.waitFor=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e4;return function(e,t){let n,i,s,c,a;const u=()=>{o.clearTimeout(c),a.stop()},l=new Promise((e,t)=>{i=e,s=t}),d=(()=>{var t=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var s=t[o](i),c=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}(function*(){try{const t=yield e();if(t)return u(),void i(t)}catch(e){n=e}});return function(){return t.apply(this,arguments)}})();return a=(0,r.setTimeoutIntervalInstant)(d,50),c=o.setTimeout(()=>{u(),s(n?`waitFor timeout: ${n}`:"waitFor timeout")},t),l}(e,t)},t.wait=function(e){return new Promise(t=>o.setTimeout(t,e))};var r=e("26"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("27"))}),e.registerDynamic("29",["2a"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("2a");var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.actions,r=void 0===n?{}:n,o=t.respond,i=void 0===o?function(){}:o,s=t.respondWithError,c=void 0===s?function(){}:s,a=t.filter,u=void 0===a?function(){return!0}:a,l=t.transform,d=void 0===l?function(e){return e}:l,f=t.errorLogger,p=t.onTerminate,h=void 0===p?function(){}:p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=r,this.onTerminate=h,this.dispatch=this.dispatch.bind(this),this.filter=u,this.transform=d,this.respond=i,this.respondWithError=c,this.errorLogger=f}return r(e,[{key:"dispatch",value:function(e){var t=this;if(!this.filter||!this.filter(e))return!1;var n=this.transform(e),r=n.args,i=void 0===r?[]:r,s=n.action;if(!(0,o.has)(this.actions,s))return!1;var c=void 0;try{var a;c=(a=this.actions)[s].apply(a,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i))}catch(t){return this.respondWithError(t.message,e),!0}return c instanceof Promise||(c=Promise.resolve(c)),c.then(function(n){return t.respond(n,e)},function(n){return t.respondWithError(n,e)}),!0}},{key:"terminate",value:function(){this.onTerminate()}}]),e}();t.default=i}),e.registerDynamic("2b",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return[e(),e(),"-",e(),"-",e(),"-",e(),"-",e(),e(),e()].join("")}}),e.registerDynamic("2a",[],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});t.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}),e.registerDynamic("2c",["29","2b","2a"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(e("29")),i=c(e("2b")),s=e("2a");function c(e){return e&&e.__esModule?e:{default:e}}var a=function(){return console.error.bind(console)},u=function(){function e(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).errorLogger;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sendFunction=t,this.callbacks=new Map,this.errorLogger=n||a(),this.listeners=[this]}return r(e,[{key:"send",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=void 0,s=void 0,c=(0,i.default)(),a=new Promise(function(e,t){o=e,s=t});return this.callbacks.set(c,{resolver:o,rejecter:s}),this.sendFunction({action:e,args:n,uuid:c}),a}},{key:"createProxy",value:function(){return new Proxy(this,{get:function(e,t){return e.send.bind(e,t)}})}},{key:"dispatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.callbacks.get(e.uuid);if(!t)return!1;if((0,s.has)(e,"response"))t.resolver(e.response);else{if(!(0,s.has)(e,"error"))return!1;t.rejecter(e.error)}return this.callbacks.delete(e.uuid),!0}},{key:"handleMessage",value:function(e){return this.listeners.some(function(t){try{return t.dispatch(e)}catch(e){return t.errorLogger("Spanan dispatch error",e),!1}})}},{key:"export",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.filter,i=n.transform,s=n.respond,c=n.respondWithError,u=n.errorLogger,l=new o.default({actions:e,respond:s,respondWithError:c,filter:r,transform:i,errorLogger:u||a(),onTerminate:function(){t.listeners=t.listeners.filter(function(e){return e!==l})}});return this.listeners.push(l),l}},{key:"reset",value:function(){this.listeners=[]}}]),e}();t.default=u}),e.registerDynamic("2d",["2c"],!0,function(e,t,n){"use strict";this||self;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new r.default(n=>{let r=n.uuid,o=n.action,i=n.args;const s={module:e,action:o,requestId:r,args:i};chrome.runtime.sendMessage(s,e=>{e&&t.handleMessage({uuid:r,response:e.response})})});return chrome.runtime.onMessage.addListener(e=>{let n=e.requestId,r=e.response;return t.handleMessage({uuid:n,response:r})}),t};var r=function(e){return e&&e.__esModule?e:{default:e}}(e("2c"))}),e.registerDynamic("2e",["1d","24","d","e","28","2d"],!0,function(e,t,n){"use strict";this||self;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(e("1d"));e("24");var i=e("d"),s=(e("e"),e("28")),c=a(e("2d"));function a(e){return e&&e.__esModule?e:{default:e}}const u=["chrome://cliqz/","resource://cliqz/"].concat(o.default.settings.frameScriptWhitelist);(0,i.registerContentScript)("core","*",(e,t,n)=>{const o=()=>e.location.href;const s={postMessage:t=>(e.postMessage(t,"*"),null),getHTML:()=>e.document.documentElement.outerHTML,click(t){const n=e.document.querySelector(t);try{return n.click(),!0}catch(e){return!1}},queryHTML(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.shadowRootSelector;let s=void 0===i?null:i;var c=o.attributeType;let a=void 0===c?"property":c;const u=s?e.document.querySelector(s).shadowRoot:e.document,l=n.split(","),d=(e,t)=>"property"===a?e[t]:e.getAttribute(t);return Array.prototype.map.call(u.querySelectorAll(t),e=>l.length>1?l.reduce((t,n)=>r({},t,{[n]:d(e,n)}),{}):d(e,n))},queryComputedStyle(t){const n=shadowRootSelector?e.document.querySelector(shadowRootSelector).shadowRoot:e.document;return Array.prototype.map.call(n.querySelectorAll(t),t=>e.getComputedStyle(t))},getCookie(){try{return e.document.cookie}catch(e){if(e instanceof DOMException&&"SecurityError"==e.name)return null;throw e}}};const c=function(t){const r=[];if(e.parent!==e&&e.document&&e.document.scripts)for(let t=0;t<e.document.scripts.length;t+=1){const n=e.document.scripts[t].src;n.startsWith("http")&&r.push(n)}let o=t.target;1!==o.nodeType&&(o=o.parentNode);let i=null;o.closest("a[href]")&&(i=o.closest("a[href]").getAttribute("href"));const s={target:{baseURI:t.target.baseURI,value:t.target.value,href:t.target.href,parentNode:{href:t.target.parentNode?t.target.parentNode.href:null},linksSrc:r}};n.app.modules.core.action("recordMouseDown",s,function(e){let t,n=e.target,r=0;try{for(;;){if(-1!==(t=n.innerHTML).indexOf("http://")||-1!==t.indexOf("https://"))return t;if(n=n.parentNode,(r+=1)>4)break}}catch(e){}}(t),i)},a=function(){const t=e.document.getElementsByTagName("html").item(0).getAttribute("lang");if(!(0,i.isTopWindow)(e))return;const r=e.document.querySelector("title"),s=e.document.querySelector("meta[name=description]"),c=e.document.querySelector('meta[property="og:title"]'),a=e.document.querySelector('meta[property="og:description"]'),u=e.document.querySelector('meta[property="og:image"]');n.app.modules.core.action("recordMeta",o(),{title:r&&r.innerHTML,description:s&&s.content,ogTitle:c&&c.content,ogDescription:a&&a.content,ogImage:u&&u.content,lang:t})};function l(n){n.windowId?function(t){f()||u.some(e=>0===o().indexOf(e))&&"content"===t.origin&&e.postMessage(JSON.stringify({target:"cliqz",type:"response",response:t.response,action:t.action,module:t.module,requestId:t.requestId}),"*")}(n):function(n){let r;if(f())return;if("unload"===n.action)return void d();const i=o();let c=n.url===i;if(!n.url||0!==n.url.indexOf("resource://cliqz")&&0!==n.url.indexOf("chrome://cliqz")||0===i.indexOf(n.url)&&(c=!0),c&&n.action in s){try{if(null===(r=s[n.action].apply(null,n.args||[])))return}catch(t){e.console.error("cliqz framescript:",t)}t.runtime.sendMessage({response:r,requestId:n.requestId})}}(n)}function d(n){if(!n||n.target===e.document){try{String(e)}catch(e){return}t.runtime.onMessage.removeListener(l),e.removeEventListener("mousedown",c),e.removeEventListener("DOMContentLoaded",a)}}function f(){try{return o(),!1}catch(e){return d(),!0}}e.addEventListener("mousedown",c),e.addEventListener("DOMContentLoaded",a),t.runtime.onMessage.addListener(l),e.addEventListener("unload",d)}),function(){if("html"!==window.document.documentElement.nodeName.toLowerCase())return;let e=!1;const t=[];function n(n){e||(e=!0,Object.keys(n.app.modules).forEach(e=>{const r=n.app.modules[e],o=(0,c.default)(e);r.action=o.send.bind(o),t.push(o)}),chrome.runtime.onMessage.addListener(e=>{t.forEach(t=>t.handleMessage(e))}),(0,i.runContentScripts)(window,chrome,n))}if("undefined"!=typeof CLIQZ&&CLIQZ.app)n(CLIQZ);else{window.runCliqz=n;const t=()=>new Promise((t,n)=>{e?n("hasRun"):chrome.runtime.sendMessage({module:"core",action:"status"},r=>{e||chrome.runtime.lastError||!r?n("hasRun"):t({app:r.response})})});(0,s.waitFor)(t).then(n).catch(e=>{window.console.error("Could not run content script",e,currentURL())})}}()}),e.registerDynamic("a",["2e"],!0,function(e,t,n){"use strict";this||self;e("2e")})})(function(n){c=[],void 0===(a="function"==typeof(s=n)?s.apply(t,c):s)||(e.exports=a)})}).call(this,n(17),n(1112),n(89))},1112:function(e,t){e.exports={import:function(){throw new Error("System.import cannot be used indirectly")}}},1113:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1113},17:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},89:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,u=[],l=!1,d=-1;function f(){l&&a&&(l=!1,a.length?u=a.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=c(f);l=!0;for(var t=u.length;t;){for(a=u,u=[];++d<t;)a&&a[d].run();d=-1,t=u.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}});